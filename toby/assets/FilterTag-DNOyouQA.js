import{r as n,j as e}from"./index-h-8rQXwW.js";import{u as x,a as j}from"./dexie-react-hooks-BES2wd6N.js";const S=({value:t,onChange:r,webConfig:i})=>{const[o,a]=n.useState(t||[]),c=x(async()=>{const s=await i.db.tagGroup.orderBy("order").toArray();return await Promise.all(s.map(async d=>({...d,list:await i.db.tag.where({group:d.id}).sortBy("groupOrder").then(m=>m.map(p=>({...p,label:p.title,value:p.id})))})))},[i],[]),u=s=>{const l=[...s];a(l),r==null||r(l)};return n.useEffect(()=>{t?t.join("")!==o.join("")&&a(t):o.length&&a([])},[t]),e.jsx("div",{children:c==null?void 0:c.map(s=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm py-2",children:s.title}),e.jsx(j,{options:s.list,value:o,multiple:!0,onChange:u})]},s.id))})};export{S as F};
