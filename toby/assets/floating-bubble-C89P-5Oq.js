import{F as O,r as l,f as P,P as $,w as B,R as u,i as F,a7 as k}from"./index-DERllzhn.js";const d="adm-floating-bubble",w={axis:"y",defaultOffset:{x:0,y:0}},V=E=>{const t=O(w,E),g=l.useRef(null),y=l.useRef(null),[R,C]=l.useState(t.offset===void 0?t.defaultOffset:t.offset);l.useEffect(()=>{t.offset!==void 0&&m.start({x:t.offset.x,y:t.offset.y})},[t.offset]);const[{x:i,y:f,opacity:D},m]=P(()=>({x:R.x,y:R.y,opacity:1})),N=$(e=>{var n;let p=e.offset[0],x=e.offset[1];if(e.last&&t.magnetic){const v=g.current,h=y.current;if(!v||!h)return;const c=v.getBoundingClientRect(),r=h.getBoundingClientRect();if(t.magnetic==="x"){const s=i.goal-i.get(),o=r.left+s-c.left,a=c.right-(r.right+s);a<=o?p+=a:p-=o}else if(t.magnetic==="y"){const s=f.goal-f.get(),o=r.top+s-c.top,a=c.bottom-(r.bottom+s);a<=o?x+=a:x-=o}}const b={x:p,y:x};t.offset===void 0?m.start(b):C(b),(n=t.onOffsetChange)===null||n===void 0||n.call(t,b),m.start({opacity:e.active?.8:1})},{axis:t.axis==="xy"?void 0:t.axis,pointer:{touch:!0},filterTaps:!0,bounds:g,from:()=>[i.get(),f.get()]});return B(t,u.createElement("div",{className:d},u.createElement("div",{className:`${d}-boundary-outer`},u.createElement("div",{className:`${d}-boundary`,ref:g})),u.createElement(F.div,Object.assign({},N(),{style:{opacity:D,transform:k([i,f],(e,n)=>`translate(${e}px, ${n}px)`)},onClick:t.onClick,className:`${d}-button`,ref:y}),t.children)))};export{V as F};
