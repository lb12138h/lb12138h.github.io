import{r as m,_ as pe,H as be,I as Pe,J as Le,K as We,L as ue,M as De,N as Ue,P as ke,y as we,R as c,A as re,F as He,m as se,Q as ye,q as ae,S as _e,U as Ee,V as xe,E as Oe,l as Re,W as je,X as Ve,Y as Xe,Z as ee,o as Ze,$ as B}from"./index-h-8rQXwW.js";import{d as F,e as Be,u as Ge}from"./input-lqMVfNre.js";import{A as Ye,G as qe,S as Ke}from"./dexie-react-hooks-BES2wd6N.js";function Qe(e){var t=m.useRef(0),n=pe(m.useState(e),2),r=n[0],i=n[1],o=m.useCallback(function(l){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(l)})},[]);return be(function(){cancelAnimationFrame(t.current)}),[r,o]}var Ce=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];n.call(r,l[1],l[0])}},t}()}(),ie=typeof window<"u"&&typeof document<"u"&&window.document===document,Y=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Je=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Y):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),et=2;function tt(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&f()}function l(){Je(o)}function f(){var s=Date.now();if(n){if(s-i<et)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=s}return f}var nt=20,rt=["top","right","bottom","left","width","height","size","weight"],it=typeof MutationObserver<"u",ot=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=tt(this.refresh.bind(this),nt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ie||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),it?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ie||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=rt.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Se=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},H=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Y},Me=Q(0,0,0,0);function q(e){return parseFloat(e)||0}function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+q(o)},0)}function st(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],l=e["padding-"+o];n[o]=q(l)}return n}function at(e){var t=e.getBBox();return Q(0,0,t.width,t.height)}function ct(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Me;var r=H(e).getComputedStyle(e),i=st(r),o=i.left+i.right,l=i.top+i.bottom,f=q(r.width),s=q(r.height);if(r.boxSizing==="border-box"&&(Math.round(f+o)!==t&&(f-=de(r,"left","right")+o),Math.round(s+l)!==n&&(s-=de(r,"top","bottom")+l)),!ut(e)){var u=Math.round(f+o)-t,h=Math.round(s+l)-n;Math.abs(u)!==1&&(f-=u),Math.abs(h)!==1&&(s-=h)}return Q(i.left,i.top,f,s)}var lt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof H(e).SVGGraphicsElement}:function(e){return e instanceof H(e).SVGElement&&typeof e.getBBox=="function"}}();function ut(e){return e===H(e).document.documentElement}function dt(e){return ie?lt(e)?at(e):ct(e):Me}function ft(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return Se(l,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),l}function Q(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ht=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Q(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=dt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),mt=function(){function e(t,n){var r=ft(n);Se(this,{target:t,contentRect:r})}return e}(),vt=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new Ce,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof H(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new ht(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof H(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new mt(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ie=typeof WeakMap<"u"?new WeakMap:new Ce,Te=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ot.getInstance(),r=new vt(t,n,this);Ie.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Te.prototype[e]=function(){var t;return(t=Ie.get(this))[e].apply(t,arguments)}});var gt=function(){return typeof Y.ResizeObserver<"u"?Y.ResizeObserver:Te}(),pt=Pe(m.useLayoutEffect),bt=Le?pt:We;function oe(e){var t=pe(Qe(function(){var i=ue(e);return i?{width:i.clientWidth,height:i.clientHeight}:void 0}),2),n=t[0],r=t[1];return bt(function(){var i=ue(e);if(i){var o=new gt(function(l){l.forEach(function(f){var s=f.target,u=s.clientWidth,h=s.clientHeight;r({width:u,height:h})})});return o.observe(i),function(){o.disconnect()}}},[],e),n}function fe(e,t,n){return e*t*n/(t+n*e)}function he(e,t,n,r,i=.15){return i===0?F(e,t,n):e<t?-fe(t-e,r,i)+t:e>n?+fe(e-n,r,i)+n:e}function wt(e){if(e==null||e==="")return 0;const t=e.trim();return t.endsWith("px")?parseFloat(t):t.endsWith("rem")?parseFloat(t)*parseFloat(window.getComputedStyle(document.documentElement).fontSize):t.endsWith("vw")?parseFloat(t)*window.innerWidth/100:0}const yt=De([Ue,ke]),G=()=>[1,0,0,1,0,0],me=e=>e[4],ve=e=>e[5],X=e=>e[0],Z=(e,t,n)=>$e([1,0,0,1,t,n],e),_t=(e,t,n=t)=>$e([t,0,0,n,0,0],e),Et=(e,[t,n])=>[e[0]*t+e[2]*n+e[4],e[1]*t+e[3]*n+e[5]],$e=(e,t)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]],te="adm-image-viewer",Ne=e=>{const{dragLockRef:t,maxZoom:n}=e,r=m.useRef([]),i=m.useRef(null),o=m.useRef(null),[{matrix:l},f]=we(()=>({matrix:G(),config:{tension:200}})),s=oe(i),u=oe(o),h=m.useRef(!1),p=a=>{if(!s||!u)return{x:{position:0,minX:0,maxX:0},y:{position:0,minY:0,maxY:0}};const x=-s.width/2,O=-s.height/2,v=-u.width/2,w=-u.height/2,y=X(a),C=y*u.width,M=y*u.height,I=x-(C-s.width),b=x,z=O-(M-s.height),P=O,[N,A]=Et(a,[v,w]);return{x:{position:N,minX:I,maxX:b},y:{position:A,minY:z,maxY:P}}},E=(a,x,O,v=0)=>[a<=x-v,a>=O+v],T=(a,x,O=!1)=>{if(!s||!u)return a;const v=X(a),w=v*u.width,y=v*u.height,{x:{position:C,minX:M,maxX:I},y:{position:b,minY:z,maxY:P}}=p(a);if(x==="translate"){let N=C,A=b;return w>s.width?N=O?F(C,M,I):he(C,M,I,v*50):N=-w/2,y>s.height?A=O?F(b,z,P):he(b,z,P,v*50):A=-y/2,Z(a,N-C,A-b)}if(x==="scale"&&O){const[N,A]=[w>s.width?F(C,M,I):-w/2,y>s.height?F(b,z,P):-y/2];return Z(a,N-C,A-b)}return a};return yt({onDrag:a=>{var x;if(a.first){const{x:{position:v,minX:w,maxX:y}}=p(l.get());r.current=E(v,w,y);return}if(a.pinching)return a.cancel();if(a.tap&&a.elapsedTime>0&&a.elapsedTime<1e3){(x=e.onTap)===null||x===void 0||x.call(e);return}const O=X(l.get());if(t&&(t.current=O!==1),!h.current&&O<=1)f.start({matrix:G()});else{const v=l.get(),w=[a.offset[0]-me(v),a.offset[1]-ve(v)],y=Z(v,...a.last?[w[0]+a.velocity[0]*a.direction[0]*200,w[1]+a.velocity[1]*a.direction[1]*200]:w);f.start({matrix:T(y,"translate",a.last),immediate:!a.last});const{x:{position:C,minX:M,maxX:I}}=p(y);a.last&&r.current.some(b=>b)&&E(C,M,I).some(b=>b)&&(t&&(t.current=!1),f.start({matrix:G()}))}},onPinch:a=>{var x;h.current=!a.last;const[O]=a.offset;if(O<0)return;let v;n==="auto"?v=s&&u?Math.max(s.height/u.height,s.width/u.width):1:v=n;const w=a.last?F(O,1,v):O;if((x=e.onZoomChange)===null||x===void 0||x.call(e,w),a.last&&w<=1)f.start({matrix:G()}),t&&(t.current=!1);else{if(!s)return;const y=l.get(),C=X(y),M=a.origin[0]-s.width/2,I=a.origin[1]-s.height/2;let b=Z(y,-M,-I);b=_t(b,w/C),b=Z(b,M,I),f.start({matrix:T(b,"scale",a.last),immediate:!a.last}),t&&(t.current=!0)}}},{target:i,drag:{from:()=>[me(l.get()),ve(l.get())],pointer:{touch:!0}},pinch:{from:()=>[X(l.get()),0],pointer:{touch:!0}}}),c.createElement("div",{className:`${te}-slide`},c.createElement("div",{className:`${te}-control`,ref:i},c.createElement(re.div,{className:`${te}-image-wrapper`,style:{matrix:l}},c.createElement("img",{ref:o,src:e.image,draggable:!1,alt:e.image}))))},ne="adm-image-viewer",xt=m.forwardRef((e,t)=>{const n=window.innerWidth+Be(16),[{x:r},i]=we(()=>({x:e.defaultIndex*n,config:{tension:250,clamp:!0}})),o=e.images.length;function l(u,h=!1){var p;const E=F(u,0,o-1);(p=e.onIndexChange)===null||p===void 0||p.call(e,E),i.start({x:E*n,immediate:h})}m.useImperativeHandle(t,()=>({swipeTo:l}));const f=m.useRef(!1),s=He(u=>{if(f.current)return;const[h]=u.offset;if(u.last){const p=Math.floor(h/n),E=p+1,T=Math.min(u.velocity[0]*2e3,n)*u.direction[0];l(F(Math.round((h+T)/n),p,E))}else i.start({x:h,immediate:!0})},{transform:([u,h])=>[-u,h],from:()=>[r.get(),0],bounds:()=>({left:0,right:(o-1)*n}),rubberband:!0,axis:"x",pointer:{touch:!0}});return c.createElement("div",Object.assign({className:`${ne}-slides`},s()),c.createElement(re.div,{className:`${ne}-indicator`},r.to(u=>`${F(Math.round(u/n),0,o-1)+1} / ${o}`)),c.createElement(re.div,{className:`${ne}-slides-inner`,style:{x:r.to(u=>-u)}},e.images.map((u,h)=>c.createElement(Ne,{key:h,image:u,onTap:e.onTap,maxZoom:e.maxZoom,onZoomChange:p=>{if(p!==1){const E=Math.round(r.get()/n);i.start({x:E*n})}},dragLockRef:f}))))}),K="adm-image-viewer",Ae={maxZoom:3,getContainer:null,visible:!1},Fe=e=>{var t,n,r;const i=se(Ae,e),o=c.createElement(ye,{visible:i.visible,disableBodyScroll:!1,opacity:"thick",afterClose:i.afterClose,destroyOnClose:!0,className:(t=i==null?void 0:i.classNames)===null||t===void 0?void 0:t.mask},c.createElement("div",{className:ae(`${K}-content`,(n=i==null?void 0:i.classNames)===null||n===void 0?void 0:n.body)},i.image&&c.createElement(Ne,{image:i.image,onTap:i.onClose,maxZoom:i.maxZoom})),i.image&&c.createElement("div",{className:`${K}-footer`},(r=i.renderFooter)===null||r===void 0?void 0:r.call(i,i.image),c.createElement(_e,{position:"bottom"})));return Ee(i.getContainer,o)},Ot=Object.assign(Object.assign({},Ae),{defaultIndex:0}),ze=m.forwardRef((e,t)=>{var n,r,i;const o=se(Ot,e),[l,f]=m.useState(o.defaultIndex),s=m.useRef(null);m.useImperativeHandle(t,()=>({swipeTo:(p,E)=>{var T;f(p),(T=s.current)===null||T===void 0||T.swipeTo(p,E)}}));const u=m.useCallback(p=>{var E;p!==l&&(f(p),(E=o.onIndexChange)===null||E===void 0||E.call(o,p))},[o.onIndexChange,l]),h=c.createElement(ye,{visible:o.visible,disableBodyScroll:!1,opacity:"thick",afterClose:o.afterClose,destroyOnClose:!0,className:(n=o==null?void 0:o.classNames)===null||n===void 0?void 0:n.mask},c.createElement("div",{className:ae(`${K}-content`,(r=o==null?void 0:o.classNames)===null||r===void 0?void 0:r.body)},o.images&&c.createElement(xt,{ref:s,defaultIndex:l,onIndexChange:u,images:o.images,onTap:o.onClose,maxZoom:o.maxZoom})),o.images&&c.createElement("div",{className:`${K}-footer`},(i=o.renderFooter)===null||i===void 0?void 0:i.call(o,o.images[l],l),c.createElement(_e,{position:"bottom"})));return Ee(o.getContainer,h)}),j=new Set;function Rt(e){ce();const t=xe(c.createElement(Fe,Object.assign({},e,{afterClose:()=>{var n;j.delete(t),(n=e.afterClose)===null||n===void 0||n.call(e)}})));return j.add(t),t}function Ct(e){ce();const t=xe(c.createElement(ze,Object.assign({},e,{afterClose:()=>{var n;j.delete(t),(n=e.afterClose)===null||n===void 0||n.call(e)}})));return j.add(t),t}function ce(){j.forEach(e=>{e.close()}),j.clear()}const St=Oe(ze,{show:Ct}),Mt=Oe(Fe,{Multi:St,show:Rt,clear:ce}),W="adm-image-uploader",ge=e=>{const{locale:t}=Re(),{url:n,file:r,deletable:i,deleteIcon:o,onDelete:l,imageFit:f}=e,s=m.useMemo(()=>n||(r?URL.createObjectURL(r):""),[n,r]);m.useEffect(()=>()=>{r&&URL.revokeObjectURL(s)},[s,r]);function u(){return e.status==="pending"&&c.createElement("div",{className:`${W}-cell-mask`},c.createElement("span",{className:`${W}-cell-loading`},c.createElement(Ve,{color:"white"}),c.createElement("span",{className:`${W}-cell-mask-message`},t.ImageUploader.uploading)))}function h(){return i&&c.createElement("span",{className:`${W}-cell-delete`,onClick:l},o)}return c.createElement("div",{className:ae(`${W}-cell`,e.status==="fail"&&`${W}-cell-fail`)},c.createElement(je,{className:`${W}-cell-image`,src:s,fit:f,onClick:e.onClick}),u(),h())},$="adm-image-uploader",It={disableUpload:!1,deletable:!0,deleteIcon:c.createElement(Xe,{className:`${$}-cell-delete-icon`}),showUpload:!0,multiple:!1,maxCount:0,defaultValue:[],accept:"image/*",preview:!0,showFailed:!0,imageFit:"cover"},At=m.forwardRef((e,t)=>{const{locale:n}=Re(),r=se(It,e),{columns:i}=r,[o,l]=Ge(r),[f,s]=m.useState([]),u=m.useRef(null),h=oe(u),p=m.useRef(null),[E,T]=m.useState(80),a=m.useRef(null);ee(()=>{const d=p.current;if(i&&h&&d){const g=h.width,S=wt(window.getComputedStyle(d).getPropertyValue("height"));T((g-S*(i-1))/i)}},[h==null?void 0:h.width]);const x={"--cell-size":E+"px"};ee(()=>{s(d=>d.filter(g=>g.url===void 0?!0:!o.some(S=>S.url===g.url)))},[o]),ee(()=>{var d;(d=r.onUploadQueueChange)===null||d===void 0||d.call(r,f.map(g=>({id:g.id,status:g.status})))},[f]);const O=m.useRef(0),{maxCount:v,onPreview:w,renderItem:y}=r;function C(d,g){return B(this,void 0,void 0,function*(){const{beforeUpload:S}=r;let R=d;return R=yield S==null?void 0:S(d,g),R})}function M(d){return r.showFailed?d:d.filter(g=>g.status!=="fail")}function I(d){var g;return B(this,void 0,void 0,function*(){d.persist();const{files:S}=d.target;if(!S)return;let R=[].slice.call(S);if(d.target.value="",r.beforeUpload){const _=R.map(U=>C(U,R));yield Promise.all(_).then(U=>{R=U.filter(Boolean)})}if(R.length===0)return;if(v>0){const _=o.length+R.length-v;_>0&&(R=R.slice(0,R.length-_),(g=r.onCountExceed)===null||g===void 0||g.call(r,_))}const V=R.map(_=>({id:O.current++,status:"pending",file:_}));s(_=>[...M(_),...V]);const D=[];yield Promise.all(V.map((_,U)=>B(this,void 0,void 0,function*(){try{const k=yield r.upload(_.file);D[U]=k,s(J=>J.map(L=>L.id===_.id?Object.assign(Object.assign({},L),{status:"success",url:k.url}):L))}catch(k){throw s(J=>J.map(L=>L.id===_.id?Object.assign(Object.assign({},L),{status:"fail"}):L)),k}}))).catch(_=>console.error(_)),l(_=>_.concat(D))})}const b=m.useRef(null);function z(d){b.current=Mt.Multi.show({images:o.map(g=>g.url),defaultIndex:d,onClose:()=>{b.current=null}})}be(()=>{var d;(d=b.current)===null||d===void 0||d.close()});const P=M(f),N=r.showUpload&&(v===0||o.length+P.length<v),A=()=>o.map((d,g)=>{var S,R;const V=c.createElement(ge,{key:(S=d.key)!==null&&S!==void 0?S:g,url:(R=d.thumbnailUrl)!==null&&R!==void 0?R:d.url,deletable:r.deletable,deleteIcon:r.deleteIcon,imageFit:r.imageFit,onClick:()=>{r.preview&&z(g),w&&w(g,d)},onDelete:()=>B(void 0,void 0,void 0,function*(){var D;(yield(D=r.onDelete)===null||D===void 0?void 0:D.call(r,d))!==!1&&l(o.filter((U,k)=>k!==g))})});return y?y(V,d,o):V}),le=c.createElement(c.Fragment,null,A(),f.map(d=>!r.showFailed&&d.status==="fail"?null:c.createElement(ge,{key:d.id,file:d.file,deletable:d.status!=="pending",deleteIcon:r.deleteIcon,status:d.status,imageFit:r.imageFit,onDelete:()=>{s(f.filter(g=>g.id!==d.id))}})),c.createElement("div",{className:`${$}-upload-button-wrap`,style:N?void 0:{display:"none"}},r.children||c.createElement("span",{className:`${$}-cell ${$}-upload-button`,role:"button","aria-label":n.ImageUploader.upload},c.createElement("span",{className:`${$}-upload-button-icon`},c.createElement(Ye,null))),!r.disableUpload&&c.createElement("input",{ref:a,capture:r.capture,accept:r.accept,multiple:r.multiple,type:"file",className:`${$}-input`,onChange:I,"aria-hidden":!0})));return m.useImperativeHandle(t,()=>({get nativeElement(){return a.current}})),Ze(r,c.createElement("div",{className:$,ref:u},i?c.createElement(qe,{className:`${$}-grid`,columns:i,style:x},c.createElement("div",{className:`${$}-gap-measure`,ref:p}),le.props.children):c.createElement(Ke,{className:`${$}-space`,wrap:!0,block:!0},le.props.children)))}),Ft=async e=>{const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};export{At as I,Ft as d};
