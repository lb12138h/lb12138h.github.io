import{r as d,j as r}from"./index-DSfinKr5.js";import{u as x,a as j}from"./dexie-react-hooks-DOEdUH__.js";const S=({value:t,onChange:o,webConfig:i})=>{const[a,c]=d.useState(t||[]),l=x(async()=>{const s=await i.db.tagGroup.orderBy("order").toArray();return await Promise.all(s.map(async p=>({...p,list:await i.db.tag.where({group:p.id}).sortBy("groupOrder").then(m=>m.map(n=>({...n,label:n.title,value:n.id})))})))},[i],[]),u=s=>{const e=[...s];console.log("list",e),c(e),o==null||o(e)};return d.useEffect(()=>{t?t.join("")!==a.join("")&&c(t):a.length&&c([])},[t]),r.jsx("div",{children:l==null?void 0:l.map(s=>r.jsxs("div",{children:[r.jsx("div",{className:"text-sm py-2",children:s.title}),r.jsx(j,{options:s.list,value:a,multiple:!0,onChange:u})]},s.id))})};export{S as F};
