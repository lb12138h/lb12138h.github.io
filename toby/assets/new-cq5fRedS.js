import{m as U,n as k,r as d,j as e,B as P,a6 as x,T as u,a3 as R}from"./index-DERllzhn.js";import{C as t}from"./index-BwC_fqYy.js";import{F as l,I as r}from"./input-Clf9kwip.js";import{S as i}from"./switch-DvbpWlb6.js";import{T as s}from"./text-area-iB4A7Wm-.js";import"./index-hSoGQ23Z.js";const h={enabled:!0,singleUrl:!0,enabledCookieJar:!1,sourceGroup:"â™‹ğŸˆ²ğŸ–‡ï¸å¾…åˆ†ç±»,",enableJs:!0,loadWithBaseUrl:!0},F=()=>{const b=U(),{id:o}=k(),[a]=l.useForm(),[I,p]=d.useState(!1),f=async c=>{console.log("values",c),await x.rule.put(Object.keys(c).reduce((n,g)=>{const j=g,m=c[j];return(m||m!==void 0&&m!=="")&&(n[j]=m),n},{})).then(()=>{u.show({icon:"success",content:"æˆåŠŸ!"}),a.resetFields(),b(-1)}).catch(n=>{u.show({icon:"fail",content:n.message})}),p(!1)};return d.useEffect(()=>{(async()=>{if(o){const n=await x.rule.get(R(o));if(n){a.resetFields(),a.setFieldsValue(n);return}}a.resetFields(),a.setFieldsValue(h)})()},[a,o]),d.useEffect(()=>{},[]),e.jsx(l,{name:"form",form:a,onFinish:f,initialValues:h,footer:e.jsx(P,{block:!0,type:"submit",color:"primary",loading:I,children:"æäº¤"}),children:e.jsxs(t,{children:[e.jsxs(t.Panel,{forceRender:!0,title:"ç±»å‹",children:[e.jsx(l.Item,{name:"enabled",label:"å¯ç”¨",valuePropName:"checked",rules:[{required:!0}],children:e.jsx(i,{})}),e.jsx(l.Item,{name:"singleUrl",label:"å• URL",valuePropName:"checked",rules:[{required:!0}],children:e.jsx(i,{})}),e.jsx(l.Item,{name:"enabledCookieJar",label:"CookieJar",valuePropName:"checked",rules:[{required:!0}],children:e.jsx(i,{})})]},"type"),e.jsxs(t.Panel,{forceRender:!0,title:"åŸºæœ¬",children:[e.jsx(l.Item,{name:"sourceName",label:"æºåç§°",rules:[{required:!0}],children:e.jsx(r,{})}),e.jsx(l.Item,{name:"sourceUrl",label:"æº URL",rules:[{required:!0}],children:e.jsx(r,{})}),e.jsx(l.Item,{name:"sourceIcon",label:"å›¾æ ‡",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"sourceGroup",label:"æºåˆ†ç»„ â™‹ğŸˆ²ğŸ–‡ï¸",children:e.jsx(r,{})}),e.jsx(l.Item,{name:"sourceComment",label:"æºæ³¨é‡Š",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"sortUrl",label:"åˆ†ç±» URL",children:e.jsx(r,{})}),e.jsx(l.Item,{name:"loginUrl",label:"ç™»å½• URL",children:e.jsx(r,{})}),e.jsx(l.Item,{name:"loginUi",label:"ç™»å½• UI",children:e.jsx(r,{})}),e.jsx(l.Item,{name:"loginCheckJs",label:"ç™»å½•æ£€æŸ¥ JS",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"coverDecodeJs",label:"å°é¢è§£å¯†",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"header",label:"è¯·æ±‚å¤´",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"variableComment",label:"å˜é‡è¯´æ˜",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"concurrentRate",label:"å¹¶å‘ç‡",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"jsLib",label:"jsLib",children:e.jsx(s,{})})]},"base"),e.jsxs(t.Panel,{forceRender:!0,title:"åˆ—è¡¨",children:[e.jsx(l.Item,{name:"ruleArticles",label:"åˆ—è¡¨è§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"ruleNextPage",label:"åˆ—è¡¨ä¸‹ä¸€é¡µè§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"ruleTitle",label:"æ ‡é¢˜è§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"rulePubDate",label:"æ—¶é—´è§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"ruleDescription",label:"æè¿°è§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"ruleImage",label:"å›¾ç‰‡URLè§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"ruleLink",label:"é“¾æ¥è§„åˆ™",children:e.jsx(s,{})})]},"list"),e.jsxs(t.Panel,{forceRender:!0,title:"WEB_VIEW",children:[e.jsx(l.Item,{name:"enableJs",label:"å¯ç”¨ JavaScript",valuePropName:"checked",children:e.jsx(i,{})}),e.jsx(l.Item,{name:"loadWithBaseUrl",label:"åŠ è½½ BaseUrl",valuePropName:"checked",children:e.jsx(i,{})}),e.jsx(l.Item,{name:"ruleContent",label:"å†…å®¹è§„åˆ™",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"style",label:"æ ·å¼",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"injectJs",label:"æ³¨å…¥Js",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"contentWhitelist",label:"ç™½åå•",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"contentBlacklist",label:"é»‘åå•",children:e.jsx(s,{})}),e.jsx(l.Item,{name:"shouldOverrideUrlLoading",label:"urlè·³è½¬æ‹¦æˆª",children:e.jsx(s,{})})]},"WEB_VIEW"),e.jsxs(t.Panel,{forceRender:!0,title:"æœªçŸ¥",children:[e.jsx(l.Item,{name:"articleStyle",label:"æ ·å¼",children:e.jsx(r,{type:"number",step:1,min:0})}),e.jsx(l.Item,{name:"customOrder",label:"è‡ªå®šä¹‰æ’åº",children:e.jsx(r,{type:"number",step:1,min:0})})]},"unknown")]})})};export{F as default};
