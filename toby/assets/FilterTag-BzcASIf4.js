import{r as u,j as r}from"./index-DTRIon_s.js";import{u as m}from"./useWebConfig-By0D1mtS.js";import{u as x,a as y}from"./dexie-react-hooks-DvDLujsZ.js";const w=({value:l,onChange:e})=>{const t=m(),[o,p]=u.useState(l||[]),i=x(async()=>{if(!t)return[];const s=await t.db.tagGroup.orderBy("order").toArray();return await Promise.all(s.map(async c=>({...c,list:await t.db.tag.where({group:c.id}).sortBy("groupOrder").then(n=>n.map(a=>({...a,label:a.title,value:a.id})))})))},[t],[]),d=s=>{p([...s])};return u.useEffect(()=>{e==null||e(o)},[e,o]),r.jsx("div",{children:i==null?void 0:i.map(s=>r.jsxs("div",{children:[r.jsx("div",{className:"text-sm py-2",children:s.title}),r.jsx(y,{options:s.list,value:o,multiple:!0,onChange:d})]},s.id))})};export{w as F};
