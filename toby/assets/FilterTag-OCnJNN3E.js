import{r as n,j as r}from"./index-DERllzhn.js";import{S as x}from"./selector-DpT9G-B8.js";import{u as j}from"./dexie-react-hooks-Dwhc-AuF.js";const E=({value:t,onChange:e,webConfig:i})=>{const[o,a]=n.useState(t||[]),c=j(async()=>{const s=await i.db.tagGroup.orderBy("order").toArray();return await Promise.all(s.map(async d=>({...d,list:await i.db.tag.where({group:d.id}).sortBy("groupOrder").then(u=>u.map(p=>({...p,label:p.title,value:p.id})))})))},[i],[]),m=s=>{const l=[...s];a(l),e==null||e(l)};return n.useEffect(()=>{t?t.join("")!==o.join("")&&a(t):o.length&&a([])},[t]),r.jsx("div",{children:c==null?void 0:c.map(s=>r.jsxs("div",{children:[r.jsx("div",{className:"text-sm py-2",children:s.title}),r.jsx(x,{options:s.list,value:o,multiple:!0,onChange:m})]},s.id))})};export{E as F};
